<div class="w-full flex flex-col">

  @if (homeData(); as data) {
  <app-hero [title]="data.heroTitle | localizedText" [description]="data.heroDescription | localizedText"
    [showButton]="data.heroShowButton ?? true" [buttonLabel]="data.heroButtonLabel | localizedText">
  </app-hero>
  } @else {
  <app-hero title="AI-Integration mit messbarer Wirkung"
    description="Wir helfen Unternehmen, Künstliche Intelligenz in ihre Prozesse zu integrieren – von der strategischen Beratung bis zu vollständigen AI-Lösungen."
    [showMobileHeroDots]="true" mobileMarginClass="mt-[125px] mb-[146px] xl:mt-[224px] xl:mb-0" [showButton]="false">
  </app-hero>
  }

  @if (homeData(); as data) {
  <app-logo-carousel [partners]="data.partners || []"></app-logo-carousel>
  } @else {
  <app-logo-carousel></app-logo-carousel>
  }

  @if (homeData()?.featuredCaseStudy) {
  <app-case-study [caseStudy]="homeData()?.featuredCaseStudy!"></app-case-study>
  } @else {
  <app-case-study></app-case-study>
  }

  @if (testimonials().length > 0) {
  @for (testimonial of testimonials(); track testimonial._id; let first = $first) {
  @if (first) {
  <app-testimonial-section alignment="center" [quote]="testimonial.quote | localizedText"
    [author]="testimonial.clientName" [role]="testimonial.clientRole | localizedText"
    avatarUrl="assets/images/image 16.png" mobileMaxWidth="max-sm:max-w-[354px]" mobileGap="gap-[32px]"
    mobileAuthorAlignment="items-start text-left">
  </app-testimonial-section>
  }
  }
  } @else {
  <app-testimonial-section alignment="center" [quote]="homeData()?.fallbackTestimonialQuote | localizedText"
    [author]="homeData()?.fallbackTestimonialAuthor || 'Danièle Bovier'"
    [role]="homeData()?.fallbackTestimonialRole | localizedText" avatarUrl="assets/images/image 16.png"
    mobileMaxWidth="max-sm:max-w-[354px]" mobileGap="gap-[32px]" mobileAuthorAlignment="items-start text-left">
  </app-testimonial-section>
  }

  @if (homeData(); as data) {
  <app-cta-card [title]="data.ctaCardTitle || ''" [description]="data.ctaCardDescription || ''"
    [linkText]="data.ctaCardLinkText || ''" [linkUrl]="data.ctaCardLinkUrl || '/product'"
    [currentLocale]="currentLocale()">
  </app-cta-card>
  } @else {
  <app-cta-card [currentLocale]="currentLocale()"></app-cta-card>
  }

  @if (homeData(); as data) {
  <app-process-steps [title]="data.processStepsTitle || ''" [steps]="data.processSteps || []"
    [currentLocale]="currentLocale()">
  </app-process-steps>
  } @else {
  <app-process-steps [currentLocale]="currentLocale()"></app-process-steps>
  }

  @if (homeData(); as data) {
  <app-security-card [title]="data.securityCardTitle || ''" [description]="data.securityCardDescription || ''"
    [currentLocale]="currentLocale()">
  </app-security-card>
  } @else {
  <app-security-card [currentLocale]="currentLocale()"></app-security-card>
  }

  @if (homeData(); as data) {
  <app-final-cta [title]="data.finalCtaTitle | localizedText" [description]="data.finalCtaDescription | localizedText"
    [primaryBtnText]="data.finalCtaPrimaryBtnText | localizedText"
    [primaryBtnLink]="data.finalCtaPrimaryBtnLink || '/contact'"
    [secondaryBtnText]="data.finalCtaSecondaryBtnText | localizedText"
    [secondaryBtnLink]="data.finalCtaSecondaryBtnLink || ''" [showMobileDecoration]="true"
    [mobileDecorationClass]="'w-[195px] h-auto top-[300px] left-[-40px] md:w-[300px] md:top-[300px] md:left-[0px] lg:top-[300px] opacity-100'"
    class="block section-spacing">
  </app-final-cta>
  } @else {
  <app-final-cta [showMobileDecoration]="true"
    [mobileDecorationClass]="'w-[195px] h-auto top-[300px] left-[-40px] md:w-[300px] md:top-[300px] md:left-[0px] lg:top-[300px] opacity-100'"
    class="block section-spacing">
  </app-final-cta>
  }
</div>